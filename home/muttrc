#set abort_unmodified=yes                            # automatically abort replies if I don't
                                                     # change the message
# set alias_file=~/.mail_aliases                     # where I keep my aliases
#set allow_8bit                                      # never do Q-P encoding on legal 8-bit chars
# set arrow_cursor                                   # use -> instead of hiliting the whole line
#set ascii_chars                                     # use ASCII instead of ACS chars for threads
                                                     # set askbcc
                                                     # set askcc
#set attribution="On %d, %n wrote:"                  # how to attribute replies
set autoedit                                         # go to the editor right away when composing
#set auto_tag                                        # always operate on tagged messages
#set charset="iso-8859-1"                            # character set for your terminal
set noconfirmappend                                  # don't ask me if i want to append to mailboxes
#set confirmcreate                                   # prompt when creating new files
set copy=yes                                         # always save a copy of outgoing messages
set delete=yes                                       # purge deleted messages without asking
set edit_headers                                     # let me edit the message header when composing
#set editor="emacs -nw"                              # editor to use when composing messages
#set bounce=yes                                      # don't ask about bouncing messages, just do it
#set fast_reply                                      # skip initial prompts when replying
#set fcc_attach                                      # keep attachments in copies of sent messages?
#set force_name                                      # fcc by recipient, create if mailbox doesn't exist
#set forward_decode                                  # weed and MIME decode forwaded messages
#set forward_format="[%a: %s]"                       # subject to use when forwarding messages
#set forward_quote                                   # quote the header and body of forward msgs
                                                     # set index_format="%4C %Z %{%m/%d} [%2N] %-15.15F (%4c) %s"
set index_format="%4C %Z %{%m/%d} %-15.15F (%4c) %s" # format of the index
#set hdrs                                            # include `my_hdr' lines in outgoing messages
#set header                                          # include message header when replying
set help                                             # show the help lines
#set history=20                                      # number of lines of history to remember
#set hostname="mutt.org"                             # my DNS domain
set include                                          # always include messages when replying
#set indent_string="> "                              # how to quote replied text
#set locale="C"                                      # locale to use for printing time
                                                     # set mailcap_path="~/.mailcap:/usr/local/share/mailcap"
                                                     #
set mailcap_path 	= ~/.mailcap
set nomark_old                                       # i don't care about whether a message is old
# set mail_check=10                                  # how often to poll for new mail
set mbox=+mbox                                       # where to store read messages
#set menu_scroll                                     # no implicit next-page/prev-page
#set metoo                                           # remove my address when replying
set mime_forward                                     # use message/rfc822 type to forward messages
set move=no                                          # don't ask about moving messages, just do it
#set pager=less                                      # some people prefer an external pager
#set pager_context=3                                 # no. of lines of context to give when scrolling
#set pager_format="-%S- %-20.20f %s"                 # format of the pager status bar
set pager_index_lines=6                              # how many index lines to show in the pager
#set pager_stop                                      # don't move to the next message on next-page
#set pgp_strict_enc                                  # use Q-P encoding when needed for PGP
set postponed=+postponed                             # mailbox to store postponed messages in
                                                     # set post_indent_string='---end quoted text---'
#set print=ask-yes                                   # ask me if I really want to print messages
set print_command=/bin/false                         # how to print things (I like to save trees)
set noprompt_after                                   # ask me for a command after the external pager exits
#set quote_regexp="^ *[a-zA-Z]*[>:#}]"               # how to catch quoted text
set read_inc=25                                      # show progress when reading a mailbox
#set recall                                          # prompt to recall postponed messages
set record=+outbox                                   # default location to save outgoing mail
set reply_to                                         # always use reply-to if present
#set reply_regexp="^(re:[ \t]*)+"                    # how to identify replies in the subject:
#set resolve                                         # move to the next message when an action is performed
#set reverse_alias                                   # attempt to look up my names for people
set reverse_name                                     # use my address as it appears in the message
                                                     # i am replying to
set nosave_empty                                     # remove files when no messages are left
#set save_name                                       # save outgoing messages by recipient, if the
#set sendmail="/usr/lib/sendmail -oi -oem"           # how to deliver mail
#set shell="/bin/zsh"                                # program to use for shell escapes
#set signature="~/.signature"                        # file which contains my signature

# I subscribe to a lot of mailing lists, so this is _very_ useful.  This
# groups messages on the same subject to make it easier to follow a
# discussion.  Mutt will draw a nice tree showing how the discussion flows.
set sort=threads		# primary sorting method

#set sort_aux=reverse-date-received # how to sort subthreads
#set sort_aux=last-date             # date of the last message in thread
set sort_browser=reverse-date       # how to sort files in the dir browser
# set spoolfile='~/mailbox'         # where my new mail is located
                                    # set status_format="-%r-Mutt: %f [Msgs:%?M?%M/?%m%?n? New:%n?%?d? Del:%d?%?F? Flag:%F?%?t? Tag:%t?%?p? Post:%p?%?b? Inc:%b?  %l]---(%s)-%>-(%P)---"
#set status_on_top                  # some people prefer the status bar on top
#set strict_threads                 # don't thread by subject
set tilde                           # virtual lines to pad blank lines in the pager
set timeout=60                      # timeout for prompt in the index menu
# set tmpdir=~/tmp                   # where to store temp files
                                    # set to_chars=" +TCF"
#set use_8bitmime                   # enable the -B8BITMIME sendmail flag
set nouse_domain                    # don't qualify local addresses with $domain
#set use_from                       # always generate the `From:' header field
set implicit_autoview=yes           # pager shows parts having a mailcap viewer
set pgp_verify_sig=no               # don't automatically verify message signatures
#set visual=vim                     # editor invoked by ~v in the builtin editor
#set nowait_key                     # prompt when a pipe returns normal status
set write_inc=25                    # show progress while writing mailboxes

# only enable the following IFF you have sendmail 8.8.x or you will not
# be able to send mail!!!
#set dsn_notify='failure,delay'	# when to return an error message
#set dsn_return=hdrs		# what to return in the error message

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Header fields I don't normally want to see
#
ignore *		# this means "ignore all lines by default"

# I do want to see these fields, though!
unignore	from: subject to cc mail-followup-to \
    date x-mailer x-url # this shows how nicely wrap long lines

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Color definitions
#

#color normal white default
color hdrdefault        red           default
color quoted            brightblue    default
color signature         red           default
color indicator         black         brightblue
color error             brightred     default
color status            brightblue    color237
color tree              magenta       default	# the thread tree in the index menu
color tilde             magenta       default
color message           brightcyan    default
color markers           brightcyan    default
color attachment        brightmagenta default
color search            default       green	# how to hilite search patterns in the pager

color header            brightred     default ^(From|Subject):
color body              magenta       default "(ftp|http|https)://[^ ]+"	# point out URLs
color body              magenta       default [-a-z_0-9.]+@[-a-z_0-9.]+	# e-mail addresses
color underline         brightgreen   default

color sidebar_highlight black         brightblack
color sidebar_divider   color8        color239 # Color of the divider separating the Sidebar from Mutt panels
color sidebar_flagged   red           default # Color to give mailboxes containing flagged mail
color sidebar_new       green         default # Color to give mailboxes containing new mail
color sidebar_ordinary  color245      default # Color to give mailboxes containing no new/flagged mail, etc

# attributes when using a mono terminal
#mono header underline ^(From|Subject):
mono quoted bold

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Key bindings
#
#	maps:
#		alias		  alias menu
#		attach		attachment menu
#		browser		directory browser
#		compose		compose menu
#		index		  message index
#		pgp		    pgp menu
#		postpone	postponed message recall menu
#		generic		generic keymap for all of the above
#		editor		line editor
#		pager		  text viewer
#

# bind generic "\e<" first-entry	# emacs-like bindings for moving to top/bottom
# bind generic \e> last-entry
# bind generic { top-page
# bind generic } bottom-page
# bind generic \177 last-entry

# simulate the old browse-url function
# macro index \cb "<pipe-message> urlview<Enter>"	

# macro index S "<save-message>+spam<Enter>"
# macro pager S "<save-message>+spam<Enter>"

#macro index \#	"<search>bug<Enter>"	# search for bugs
#macro index "\""	"<enter-command> set realname=\"real hairy macro\" ?realname<Enter>" # and a comment to boot!
#macro index f1	"<enter-command>woohoo!"

# bind pager G bottom	# just like vi and less
#macro   pager   \Ck     "<pipe-message> pgp -kaf<Enter>"   # a comment is valid here
#macro pager X "<pipe-message> morepgp<Enter>"	# pipe PGP message to a script

#bind editor \cy eol	# make ^Y jump to the end of the line

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# User Defined Headers
#

#my_hdr X-Useless-Header: Look ma, it's a \# sign! # real comment
#my_hdr X-Operating-System: `uname -a`

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Specify default filename when saving messages
#
#	save-hook [!]<pattern> <mailbox>
#
# <mailbox> is provided as default when saving messages from <pattern>

#save-hook mutt- =mutt-mail
#save-hook aol\\.com$ +spam
save-hook ^judge +diplomacy

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Multiple spool mailboxes
#
#	mbox-hook [!]<pattern> <mbox-mailbox>
#
# Read mail in <pattern> is moved to <mbox-mailbox> when <pattern> is
# closed.

#mbox-hook =mutt-users.in =mutt-users
#mbox-hook +TEST +inbox

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Change settings based upon message recipient
#
#	send-hook [!]<pattern> <command>
#
# <command> is executed when sending mail to an address matching <pattern>

#send-hook mutt- 'set signature=~/.sigmutt; my_hdr From: Mutt User <user@example.com>'

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Specify where to save composed messages
#
#	fcc-hook [!]<pattern> <mailbox>
#
# <pattern> is recipient(s), <mailbox> is where to save a copy

#fcc-hook joe +joe
#fcc-hook bob +bob

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Change settings based on mailbox
#
#	folder-hook [!]<pattern> <command>
#
# <command> is executed when opening a mailbox matching <pattern>

#folder-hook .		'set sort=date-sent'
#folder-hook mutt	'set index_format="%4C %Z %02m/%02N %-20.20F (%4l) %s"'
#folder-hook =mutt	my_hdr Revolution: \#9 # real comment

#folder-hook .		'set reply_regexp="^re:[ \t]*"'

# this mailing list prepends "[WM]" to all non reply subjects, so set
# $reply_regexp to ignore it
# Warning: May break threads for other people.
#folder-hook +wmaker	'set reply_regexp="^(re:[ \t]*)?\[WM\][ \t]*"'

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Aliases
#
#	alias <name> <address> [ , <address> ... ]

#alias exam "\# to annoy michael" <user@host>
#alias me Michael Elkins <me@mutt.org> # me!
# alias mutt-dev Mutt Development List <mutt-dev@mutt.org> # power users
# alias mutt-users Mutt User List <mutt-users@mutt.org>
# alias mutt-announce Mutt Announcement List <mutt-announce@mutt.org>
# alias wmaker WindowMaker Mailing List <wmaker@eosys.com>

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Mailboxes to watch for new mail
#
#	mailboxes <path1> [ <path2> ... ]
#

# mailboxes ! +mutt-dev +mutt-users +open-pgp +wmaker +hurricane +vim +ietf \
#   +drums
#mailboxes `echo $HOME/Mail/*`

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Specify the order of the headers to appear when displaying a message
#
#	hdr_order <hdr1> [ <hdr2> ... ]
#
unhdr_order *				# forget the previous settings
hdr_order date from subject to cc

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Identify mailing lists I subscribe to
#
#	lists <list-name> [ <list-name> ... ]
lists ^mutt-dev@mutt\\.org$ ^mutt-users@mutt\\.org$

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Automatically use entries from ~/.mailcap to view these MIME types
#
#	auto_view <type> [ <type> ... ]
auto_view application/x-gunzip
auto_view application/x-gzip
auto_view text/html

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Scoring
#
#	score <pattern> <value>
#
# 9999 and -9999 are special values which cause processing of hooks to stop
# at that entry.  If you prefix the score with an equal sign (=), the score
# is assigned to the message and processing stops.

#score '~f ^me@cs\.hmc\.edu$' 1000
#score '~t mutt | ~c mutt' =500
#score '~f aol\.com$' -9999

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# I use Mutt on several different machines, so I put local config commands
# in a separate file so I can have the rest of the settings the same on all
# machines.
#
#------------------------------------------------------------
# Gmail
#------------------------------------------------------------
#
# --------- imap -------------
#
set folder           = "imaps://imap.gmail.com/"
set imap_user        = "rickard.petersen@gmail.com"
# set imap_pass       = your-imap-password
# set spoolfile       = "+INBOX"
# set spoolfile        = "+[Gmail]/All Mail"
set spoolfile        = "=most"
mailboxes            = +INBOX
set certificate_file = ~/.cache/muttfolder/certificates
set imap_check_subscribed

# Store message headers locally to speed things up.
# If hcache is a folder, Mutt will create sub cache folders for each account which may speeds things up even more.
set header_cache = ~/.cache/muttfolder/headers/

# Store messages locally to speed things up, like searching message bodies.
# Can be the same folder as header_cache.
# This will cost important disk usage according to your e-mail amount.
set message_cachedir = ~/.cache/muttfolder/bodies/

# Specify where to save and/or look for postponed messages.
set postponed = "+[Gmail]/Drafts"
set trash = "+[Google Mail]/Trash"

# Allow Mutt to open new imap connection automatically.
unset imap_passive

# Keep IMAP connection alive by polling intermittently (time in seconds).
set imap_keepalive = 300

# How often to check for new mail (time in seconds).
set mail_check = 60

# --------- SMTP -----------------
#
# set my_pass='mysecretpass'
# set my_user=myname
set realname      = 'Rickard'
set from          = rickard.petersen@gmail.com
set use_from      = yes
set smtp_url      = "smtp://rickard.petersen@gmail.com@smtp.gmail.com:587/"
set ssl_force_tls = yes

#------------------------------------------------------------
# Vi Key Bindings
#------------------------------------------------------------

# Moving around
bind pager,attach,browser,index g   noop
bind attach,browser,index       gg  first-entry
bind attach,browser,index       G   last-entry
bind pager                      gg  top
bind pager                      G   bottom
bind pager                      k   previous-line
bind pager                      j   next-line

# Scrolling
bind attach,browser,pager,index \CF next-page
bind attach,browser,pager,index \CB previous-page
bind attach,browser,pager,index \Cu half-up
bind attach,browser,pager,index \Cd half-down
bind browser,pager              \Ce next-line
bind browser,pager              \Cy previous-line
bind index                      \Ce next-line
bind index                      \Cy previous-line

bind pager,index                d noop
bind pager,index                dd  delete-message

# Mail & Reply
bind index                      \Cm list-reply # Doesn't work currently

# Threads
bind browser,pager,index        N   search-opposite
bind pager,index                dT  delete-thread
bind pager,index                dt  delete-subthread
bind pager,index                gt  next-thread
bind pager,index                gT  previous-thread
bind index                      za  collapse-thread
bind index                      zA collapse-all # Missing :folddisable/foldenable

#macro index       I  O  "Mark as read"
#macro index       U  O  "Mark as unread"
#macro index       ga "=[Gmail]/All Mail"  "Go to all mail"
#macro index       gd =[Gmail]/Drafts  "Go to 'Drafts'"
#macro index       gl ?       "Go to 'Label'"
#macro index       gi =INBOX     "Go to inbox"
#macro index       gs "=[Gmail]/Sent Mail" "Go to 'Sent Mail'"
## macro index       d "=[Gmail]/Trash" "Trash"
#macro index       +  =[Gmail]/Important "Mark as important"
#macro index       !  =[Gmail]/Spam "Report spam"
#macro index       e  "=[All]/Gmail Mail" "Archive conversation"
macro index A "<tag-pattern>~N<enter><tag-prefix><clear-flag>N<untag-pattern>.<enter>"  "Mark all new as read"

# folder-hook +INBOX 'macro index,pager y "=[Gmail]/All Mail" "Archive conversation"'
# folder-hook +[Gmail]/Trash macro index,pager y =INBOX "Move to inbox"
# folder-hook +[Gmail]/Starred bind  index,pager y flag-message #"Toggle star"
#
bind index "r" imap-fetch-mail

#------------------------------------------------------------
# Sidebar
#------------------------------------------------------------

#Should the Sidebar be shown?
set sidebar_visible = yes

# How wide should the Sidebar be in screen columns?
# Note: Some characters, e.g. Chinese, take up two columns each.
set sidebar_width = 20

# Should the mailbox paths be abbreviated?
set sidebar_short_path = no

# When abbreviating mailbox path names, use any of these characters as path
# separators.  Only the part after the last separators will be shown.
# For file folders '/' is good.  For IMAP folders, often '.' is useful.
set sidebar_delim_chars = '/.'

# If the mailbox path is abbreviated, should it be indented?
set sidebar_folder_indent = no

# Indent mailbox paths with this string.
set sidebar_indent_string = '  '

# Make the Sidebar only display mailboxes that contain new, or flagged,
# mail.
set sidebar_new_mail_only = no

# Any mailboxes that are whitelisted will always be visible, even if the
# sidebar_new_mail_only option is enabled.
sidebar_whitelist '/home/user/mailbox1'
sidebar_whitelist '/home/user/mailbox2'

# When searching for mailboxes containing new mail, should the search wrap
# around when it reaches the end of the list?
set sidebar_next_new_wrap = no

# Show the Sidebar on the right-hand side of the screen
set sidebar_on_right = no

# The character to use as the divider between the Sidebar and the other Mutt
# panels.
set sidebar_divider_char = '|'

# Enable extended buffy mode to calculate total, new, and flagged
# message counts for each mailbox.
set mail_check_stats

# Display the Sidebar mailboxes using this format string.
set sidebar_format = '%B%?F? [%F]?%* %?N?%N/?%S'

# Sort the mailboxes in the Sidebar using this method:
#       count    - total number of messages
#       flagged  - number of flagged messages
#       new      - number of new messages
#       path     - mailbox path
#       unsorted - do not sort the mailboxes
set sidebar_sort_method = 'unsorted'

# --------------------------------------------------------------------------
# FUNCTIONS - shown with an example mapping
# --------------------------------------------------------------------------
# Move the highlight to the previous mailbox
bind index,pager \Ck sidebar-prev

# Move the highlight to the next mailbox
bind index,pager \Cj sidebar-next

# Open the highlighted mailbox
bind index,pager \Co sidebar-open

# Move the highlight to the previous page
# This is useful if you have a LOT of mailboxes.
# bind index,pager <F3> sidebar-page-up
# Move the highlight to the next page
# This is useful if you have a LOT of mailboxes.
# bind index,pager <F4> sidebar-page-down
# Move the highlight to the previous mailbox containing new, or flagged,
# mail.
# bind index,pager <F5> sidebar-prev-new
# Move the highlight to the next mailbox containing new, or flagged, mail.
# bind index,pager <F6> sidebar-next-new
# Toggle the visibility of the Sidebar.
bind index,pager \Cp sidebar-toggle-visible
